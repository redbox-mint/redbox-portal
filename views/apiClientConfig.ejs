<% 
let i18NextOpts = sails.config.i18n.next.init;
i18NextOpts.backend = undefined;
let defaultConfig = {
  baseUrl: sails.config.appUrl,
  branding: req.session.branding,
  portal: req.session.portal,
  vocabRootUrl: sails.config.vocab.clientUri,
  collectionRootUri: sails.config.vocab.collectionUri,
  mintRootUri: sails.config.mint.mintRootUri,
  userRootUri: sails.config.vocab.userRootUri,
  translationVersion: sails.config.startupMinute,
  maxTransferRowsPerPage: sails.config.record.transfer.maxRecordsPerPage,
  maxSearchRowsPerPage: sails.config.record.search.maxRecordsPerPage,
  i18NextOpts: i18NextOpts,
  lang: lang || 'en'
};
defaultConfig.i18NextOpts.supportedLngs = [lang || 'en'];
defaultConfig.i18NextOpts.preload = [lang || 'en'];
if (!_.isUndefined(sails.config.api.additionalClientConfig)) {
  _.merge(defaultConfig, sails.config.api.additionalClientConfig);
}
%>
<%- JSON.stringify(defaultConfig) %>
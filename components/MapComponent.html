<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ReDBox Portal - NG2 Apps</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
        <link rel="stylesheet" href="../styles/postmark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">ReDBox Portal - NG2 Apps</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li
  >
  MapComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>angular/shared/form/field-map.component.ts</code>
</p>


    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <h4 id="map-component">Map Component.</h4>
<p>Uses Leaflet.js to render a widget and the Leaflet.draw plugin to be able to select regions</p>
<h4 id="usage">Usage</h4>
<div><pre class="line-numbers"><code class="language-none"> {
  class: &#39;MapField&#39;,
  compClass: &#39;MapComponent&#39;,
  definition: {
    name: &#39;geocoords&#39;,
    label: &#39;&#64;dataRecord-coverage&#39;,
    help: &#39;&#64;dataRecord-coverage&#39;,
    tabId: &#39;coverage&#39;,
    leafletOptions: {
                     zoom: 3,
                     center: latLng([108.94248962402342, 34.26516142452615)
                    }
    }
  }</code></pre></div><table class="table table-bordered compodoc-table">
<thead>
<tr>
<th>Property Name</th>
<th>Description</th>
<th>Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>The label to show above the component</td>
<td>No       *</td>
<td></td>
</tr>
<tr>
<td>help</td>
<td>Help text</td>
<td>No       *</td>
<td></td>
</tr>
<tr>
<td>tabId</td>
<td>The name of the tab the widget is placed, this is needed as Leaflet needs the map to be visible before the tiles can be loaded correctly. Leave empty if widget isn&#39;t placed in a tab.</td>
<td>No       *</td>
<td></td>
</tr>
<tr>
<td>leafletOptions</td>
<td>The leaflet options object. See the <a href="http://leafletjs.com/reference-1.3.0.html#map-option">Leaflet&#39;s documentation</a> for more information. Note: layers cannot be changed as other functionality depends on it being set as it is and will be overridden. Defaults to a map centred on Australia (if no elements are drawn on map)</td>
<td>No</td>
<td><code>{zoom: 4, center:&quot; latLng([-24.673148, 134.074574]) }</code></td>
</tr>
<tr>
<td>drawOptions</td>
<td>The leaflet draw options object. See the <a href="https://leaflet.github.io/Leaflet.draw/docs/leaflet-draw-latest.html#options">Leaflet Draw&#39;s documentation</a> for more information. Note: the edit featureGroup cannot be changed as other functionality depends on it being set as it is and will be overridden.</td>
<td>No</td>
<td><code>{position:&quot;topright&quot;,draw:{marker:{icon:icon({iconSize:[25,41],iconAnchor:[13,41],iconUrl:&quot;http://localhost:1500/default/rdmp/images/leaflet/marker-icon.png&quot;,shadowUrl:&quot;http://localhost:1500/default/rdmp/images/leaflet/marker-shadow.png&quot;})},circlemarker:false,circle:false}}</code></td>
</tr>
</tbody>
</table>

    </p>

    <p class="comment">
        <h3>Extends</h3>
    </p>
    <p class="comment">
                <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
    </p>



<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>rb-mapdata</code></td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./field-map.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#coordinatesHelpShow" >coordinatesHelpShow</a>
                            </li>
                            <li>
                                <a href="#field" >field</a>
                            </li>
                            <li>
                                <a href="#helpShow" >helpShow</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#injector" >injector</a>
                            </li>
                            <li>
                                <a href="#loaded" >loaded</a>
                            </li>
                            <li>
                                <a href="#parentId" >parentId</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#ngAfterViewInit" >ngAfterViewInit</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#toggleCoordinatesHelp" >toggleCoordinatesHelp</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getFormControl" >getFormControl</a>
                            </li>
                            <li>
                                <a href="#getFromInjector" >getFromInjector</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getGroupClass" >getGroupClass</a>
                            </li>
                            <li>
                                <a href="#getRequiredLabelStr" >getRequiredLabelStr</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#hasRequiredError" >hasRequiredError</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#toggleHelp" >toggleHelp</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#field" >field</a>
                            </li>
                            <li>
                                <a href="#fieldMap" >fieldMap</a>
                            </li>
                            <li>
                                <a href="#form" >form</a>
                            </li>
                            <li>
                                <a href="#index" >index</a>
                            </li>
                            <li>
                                <a href="#isEmbedded" >isEmbedded</a>
                            </li>
                            <li>
                                <a href="#name" >name</a>
                            </li>
                        </ul>
                    </td>
                </tr>




        </tbody>
    </table>
</section>


    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="field"></a>
                        <b>field</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/FieldBase.html" target="_self" >FieldBase&lt;any&gt;</a></code>

                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:68</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Field model</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="fieldMap"></a>
                        <b>fieldMap</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:76</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The field mapping</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="form"></a>
                        <b>form</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormGroup" target="_blank" >FormGroup</a></code>

                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:72</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The form group</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="index"></a>
                        <b>index</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:80</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The index of this field</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isEmbedded"></a>
                        <b>isEmbedded</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:86</a></code>
</div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="name"></a>
                        <b>name</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:84</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The name of this field</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>



    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterViewInit"></a>
                    <span class="name">
                        <span ><b>ngAfterViewInit</b></span>
                        <a href="#ngAfterViewInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterViewInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="398"
                            class="link-to-prism">angular/shared/form/field-map.component.ts:398</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleCoordinatesHelp"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>toggleCoordinatesHelp</b></span>
                        <a href="#toggleCoordinatesHelp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>toggleCoordinatesHelp()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="404"
                            class="link-to-prism">angular/shared/form/field-map.component.ts:404</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFormControl"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getFormControl</b></span>
                        <a href="#getFormControl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getFormControl(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, ctrlIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:111</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Return the NG2 FormControl or subclass thereof</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>null</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>ctrlIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>null</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://angular.io/api/forms/FormControl" target="_blank" >FormControl</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFromInjector"></a>
                    <span class="name">
                        <span ><b>getFromInjector</b></span>
                        <a href="#getFromInjector"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getFromInjector(token: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:194</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the NG2 root injector</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>token</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getGroupClass"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>getGroupClass</b></span>
                        <a href="#getGroupClass"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getGroupClass(fldName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:164</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the CSS class</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>fldName</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>null</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRequiredLabelStr"></a>
                    <span class="name">
                        <span ><b>getRequiredLabelStr</b></span>
                        <a href="#getRequiredLabelStr"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getRequiredLabelStr()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:186</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns label</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasRequiredError"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>hasRequiredError</b></span>
                        <a href="#hasRequiredError"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>hasRequiredError()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:172</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>If this field has a &#39;required&#39; error.
Author: <a href='https://github.com/shilob' target='_blank'>Shilo Banihit</a></p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleHelp"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>toggleHelp</b></span>
                        <a href="#toggleHelp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>toggleHelp()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:179</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Convenience method to toggle help mode.</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="coordinatesHelpShow"></a>
                    <span class="name">
                        <span ><b>coordinatesHelpShow</b></span>
                        <a href="#coordinatesHelpShow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="396" class="link-to-prism">angular/shared/form/field-map.component.ts:396</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="field"></a>
                    <span class="name">
                        <span ><b>field</b></span>
                        <a href="#field"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/MapField.html" target="_self" >MapField</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="394" class="link-to-prism">angular/shared/form/field-map.component.ts:394</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="helpShow"></a>
                    <span class="name">
                        <span ><b>helpShow</b></span>
                        <a href="#helpShow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:94</a></code>
</div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Toggles help display</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="injector"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>injector</b></span>
                        <a href="#injector"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://angular.io/api/core/Injector" target="_blank" >Injector</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:90</a></code>
</div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The NG2 root injector</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loaded"></a>
                    <span class="name">
                        <span ><b>loaded</b></span>
                        <a href="#loaded"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:104</a></code>
</div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Loaded flag</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parentId"></a>
                    <span class="name">
                        <span ><b>parentId</b></span>
                        <a href="#parentId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../classes/SimpleComponent.html" target="_self" >SimpleComponent</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../classes/SimpleComponent.html#source" target="_self" >SimpleComponent:99</a></code>
</div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Optional parentId of this component</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Input, Component, OnInit, Inject, Injector } from &#x27;@angular/core&#x27;;
import { SimpleComponent } from &#x27;./field-simple.component&#x27;;
import { FieldBase } from &#x27;./field-base&#x27;;
import { FormGroup, FormControl, Validators } from &#x27;@angular/forms&#x27;;
import * as _ from &quot;lodash&quot;;
import { RecordsService } from &#x27;./records.service&#x27;;
import {  Map,  GeoJSON,   } from &#x27;leaflet&#x27;;
declare var omnivore: any;
declare var L: any;
declare var jQuery: any;
declare function require(name:string);

/**
 * Map Model
 *
 *
 * @author &lt;a target&#x3D;&#x27;_&#x27; href&#x3D;&#x27;https://github.com/andrewbrazzatti&#x27;&gt;Andrew Brazzatti&lt;/a&gt;
 *
 */
export class MapField extends FieldBase&lt;any&gt; {


  initialised: boolean &#x3D; false;
  tabId: string;
  importDataString: string &#x3D; &quot;&quot;;

  layerGeoJSON: any &#x3D; {};
  map: Map;
  importFailed:boolean &#x3D; false;
  layers &#x3D; [];
  drawnItems: any &#x3D; new L.FeatureGroup();
  googleMaps &#x3D; L.tileLayer(&#x27;http://{s}.google.com/vt/lyrs&#x3D;m&amp;x&#x3D;{x}&amp;y&#x3D;{y}&amp;z&#x3D;{z}&#x27;, {
    maxZoom: 20,
    subdomains: [&#x27;mt0&#x27;, &#x27;mt1&#x27;, &#x27;mt2&#x27;, &#x27;mt3&#x27;],
    detectRetina: true
  });
  googleHybrid &#x3D; L.tileLayer(&#x27;http://{s}.google.com/vt/lyrs&#x3D;s,h&amp;x&#x3D;{x}&amp;y&#x3D;{y}&amp;z&#x3D;{z}&#x27;, {
    maxZoom: 20,
    subdomains: [&#x27;mt0&#x27;, &#x27;mt1&#x27;, &#x27;mt2&#x27;, &#x27;mt3&#x27;],
    detectRetina: true
  });
  coordinatesHelp?: any;
  kmlGeoJsonLabel: string;
  importButtonLabel: string;
  invalidDataMessage: string;

  MARKER_ICON_PATH &#x3D; require(&#x27;../../../assets/default/default/images/leaflet/marker-icon.png&#x27;);
  MARKER_SHADOW_PATH &#x3D; require(&#x27;../../../assets/default/default/images/leaflet/marker-shadow.png&#x27;);
  MARKER_RETINA_PATH &#x3D; require(&#x27;../../../assets/default/default/images/leaflet/marker-icon-2x.png&#x27;);
  iconSettings &#x3D; L.icon({
    iconSize: [25, 41],
    iconAnchor: [13, 41],
    iconUrl: this.MARKER_ICON_PATH,
    shadowUrl: this.MARKER_SHADOW_PATH
  });


  /*
  *
  * Draw options
  */
  /* Draw options that we do not want to be overridden by form config as it&#x27;ll break functionality */
  masterDrawOptions: any &#x3D; {
    edit: {
      featureGroup: this.drawnItems
    },
  };


  defaultDrawOptions: any &#x3D; {
    position: &#x27;topright&#x27;,
    edit: {
      featureGroup: this.drawnItems
    },
    draw: {
      marker: {
        icon: this.iconSettings
      },
      circlemarker: false,
      circle: false
    }
  };

  drawOptions: any &#x3D; this.defaultDrawOptions;

  /*
  *
  * Leaf options
  */
  masterLeafletOptions &#x3D; {
    layers: [this.googleMaps, this.drawnItems],
  };

  defaultLeafletOptions &#x3D; {
    zoom: 4,
    center: L.latLng([-24.673148, 134.074574])
  };

  leafletOptions: any &#x3D; this.defaultLeafletOptions;

  layersControl &#x3D; {
    baseLayers: {
      &#x27;Google Maps&#x27;: this.googleMaps,
      &#x27;Google Hybrid&#x27;: this.googleHybrid
    }
  };

  mainTabId: any;

  constructor(options: any, injector: any) {
    super(options, injector);
    this.clName &#x3D; &#x27;MapField&#x27;;
    //Workaround to overcome ERR_INVALID_URL error thrown when the base64 url is invalid and ends with &quot;)marker-icon.png 
    //that happens because of a known bug inside leaflet bundle that is a regex issue within _detectIconPath function  
    //https://github.com/Leaflet/Leaflet/issues/4968
    //https://stackoverflow.com/questions/55928916/marker-in-leaflet-js-does-not-load-properly-due-to-err-invalid-url-error
    delete L.Icon.Default.prototype._getIconUrl;
    L.Icon.Default.mergeOptions({
      iconRetinaUrl: this.MARKER_RETINA_PATH,
      iconUrl: this.MARKER_ICON_PATH,
      shadowUrl: this.MARKER_SHADOW_PATH
    });
    this.leafletOptions &#x3D; options[&#x27;leafletOptions&#x27;] || this.defaultLeafletOptions;
    // merge in master options to ensure we have the right layers configured
    this.leafletOptions &#x3D; _.merge(this.leafletOptions, this.masterLeafletOptions);

    this.drawOptions &#x3D; options[&#x27;drawOptions&#x27;] || this.drawOptions;
    // merge in master options to ensure we have the right layers configured
    this.drawOptions &#x3D; _.merge(this.drawOptions, this.masterDrawOptions);

    this.tabId &#x3D; options[&#x27;tabId&#x27;] || null;

    this.layerGeoJSON &#x3D; options.value;
    this.mainTabId &#x3D; options[&#x27;mainTabId&#x27;] || null;
    this.coordinatesHelp &#x3D;  this.getTranslated(options.coordinatesHelp, undefined);
    this.kmlGeoJsonLabel &#x3D; this.getTranslated(options.kmlGeoJsonLabel, &quot;Enter KML or GeoJSON&quot;);
    this.importButtonLabel &#x3D;  this.getTranslated(options.importButtonLabel, &quot;Import&quot;);
    this.invalidDataMessage &#x3D;  this.getTranslated(options.invalidDataMessage, &quot;Entered text is not valid KML or GeoJSON&quot;);
  }

  onMapReady(map: Map) {

    this.map &#x3D; map;

    let that &#x3D; this;

    this.registerMapEventHandlers(map);
    this.setValue(this.layerGeoJSON);


    if (this.tabId &#x3D;&#x3D;&#x3D; null) {
      map.invalidateSize();
      map.fitBounds(this.drawnItems.getBounds());
    } else {
      if (this.editMode) {
        // Note: this assumes the tabId is unqiue in the page, which may not be when there are multiple tab layouts.
        jQuery(&#x27;a[data-toggle&#x3D;&quot;tab&quot;]&#x27;).on(&#x27;shown.bs.tab&#x27;, (e) &#x3D;&gt; {
          const curTabId &#x3D; e.target.href.split(&#x27;#&#x27;)[1];
          if (curTabId &#x3D;&#x3D; that.tabId) {
            that.initMap(map, that);
          }
        });
      } else {
        const field &#x3D; this.fieldMap._rootComp.getFieldWithId(this.mainTabId, this.fieldMap._rootComp.fields);
        field.onAccordionCollapseExpand.subscribe((event) &#x3D;&gt; {
          if (event.shown &#x3D;&#x3D; true &amp;&amp; event.tabId &#x3D;&#x3D; that.tabId &amp;&amp; !that.initialised) {
            that.initMap(map, that);
            that.initialised &#x3D; true;
          }
        });
      }
    }
  }

  public initMap(map, that) {
    map.invalidateSize();

      try {
        // if there are no layers present this will throw an error
        map.fitBounds(this.drawnItems.getBounds());
      } catch (e) {

      }

  }

  registerMapEventHandlers(map: Map) {
    let that &#x3D; this;
    map.on(L.Draw.Event.CREATED, function(e: any) {
      var type &#x3D; e.layerType,
        layer &#x3D; e.layer;
      that.layers.push(layer);
      that.layerGeoJSON &#x3D; L.featureGroup(that.layers).toGeoJSON();
      that.setValue(that.layerGeoJSON);
      return false;
    });

    map.on(&#x27;draw:edited&#x27;, function(e: any) {
      let layers &#x3D; e.layers;
      let that2 &#x3D; that;
      layers.eachLayer(function(layer) {
        let layerIndex &#x3D; _.findIndex(that2.layers, function(o) { return o._leaflet_id &#x3D;&#x3D; layer._leaflet_id; });
        if(layerIndex &#x3D;&#x3D; -1) {
          that2.layers.push(layer);
        } else {
          that2.layers[layerIndex] &#x3D; layer;
        }

      });
    });

    map.on(&#x27;draw:editstop&#x27;, function(e: any) {
      that.layerGeoJSON &#x3D; L.featureGroup(that.layers).toGeoJSON();
      that.setValue(that.layerGeoJSON);
    });

    map.on(&#x27;draw:deletestop&#x27;, function(e: any) {
      that.layerGeoJSON &#x3D; L.featureGroup(that.layers).toGeoJSON();
      that.setValue(that.layerGeoJSON);
    });

    map.on(&#x27;draw:deleted&#x27;, function(e: any) {
      let layers &#x3D; e.layers;
      let that2 &#x3D; that;
      layers.eachLayer(function(layer) {
        _.remove(that2.layers, function(o) { return o._leaflet_id &#x3D;&#x3D; layer._leaflet_id; });
      });
    });
  }


  drawLayers() {
    this.drawnItems.clearLayers();
    let geoJSONLayer: GeoJSON &#x3D; L.geoJSON(this.layerGeoJSON);
    this.layers &#x3D; [];
    let that &#x3D; this;
    geoJSONLayer.eachLayer(layer &#x3D;&gt; {
      layer.addTo(that.drawnItems);
      that.layers.push(layer);
    });
  }


  postInit(value: any) {
    if (!_.isEmpty(value)) {
      this.layerGeoJSON &#x3D; value;
      this.drawLayers();
    }
  }

  createFormModel(valueElem: any &#x3D; undefined): any {
    if (valueElem) {
      this.layerGeoJSON &#x3D; valueElem;
    }

    this.formModel &#x3D; new FormControl(this.layerGeoJSON || {});

    return this.formModel;
  }

  setValue(value: any, emitEvent: boolean &#x3D; true) {
    if (!_.isEmpty(value)) {
      this.layerGeoJSON &#x3D; value;
      this.drawLayers();
      this.formModel.patchValue(this.layerGeoJSON, { emitEvent: emitEvent, emitModelToViewChange: true });
      this.formModel.markAsTouched();
      this.formModel.markAsDirty();
    }
  }

  setEmptyValue() {
    this.layerGeoJSON &#x3D; {};
    return this.layerGeoJSON;
  }
  
  reactEvent(eventName: string, eventData: any, origData: any) {
    super.reactEvent(eventName, eventData,origData);
    if (!_.isEmpty(this.formModel.value)) {
      this.layerGeoJSON &#x3D; this.formModel.value;
      this.drawLayers();
      this.formModel.patchValue(this.layerGeoJSON, { emitEvent: false });
      this.formModel.markAsTouched();
    }

  }

  importData() {
    if(this.importDataString.length &gt; 0) {
      try {
      if(this.importDataString.indexOf(&quot;&lt;&quot;) &#x3D;&#x3D; 0) {
        //probably KML
        let parsedLayers &#x3D; omnivore.kml.parse(this.importDataString);
        if(parsedLayers.getLayers().length &#x3D;&#x3D; 0) {
          this.importFailed &#x3D; true;
          return false;
        }
        let that &#x3D; this;
        parsedLayers.eachLayer(layer &#x3D;&gt; {
          layer.addTo(that.drawnItems);
          that.layers.push(layer);
          that.layerGeoJSON &#x3D; L.featureGroup(that.layers).toGeoJSON();
          this.drawLayers();
          that.map.fitBounds(that.drawnItems.getBounds());
        });
        this.importDataString &#x3D; &quot;&quot;;
        this.importFailed &#x3D; false;
      } else {
        let parsedLayers &#x3D; L.geoJSON(JSON.parse(this.importDataString));
        let that &#x3D; this;
        parsedLayers.eachLayer(layer &#x3D;&gt; {
          layer.addTo(that.drawnItems);
          that.layers.push(layer);
          that.layerGeoJSON &#x3D; L.featureGroup(that.layers).toGeoJSON();
          this.drawLayers();
          that.map.fitBounds(that.drawnItems.getBounds());
        });
        this.importDataString &#x3D; &quot;&quot;;
        this.importFailed &#x3D; false;
      }
      this.layerGeoJSON &#x3D; L.featureGroup(this.layers).toGeoJSON();
      this.setValue(this.layerGeoJSON);
    } catch (e) {
      this.importFailed &#x3D; true;
    }

    }

    return false;
  }

}

declare var aotMode
// Setting the template url to a constant rather than directly in the component as the latter breaks document generation
let rbMapDataTemplate &#x3D; &#x27;./field-map.html&#x27;;
if (typeof aotMode &#x3D;&#x3D; &#x27;undefined&#x27;) {
  rbMapDataTemplate &#x3D; &#x27;../angular/shared/form/field-map.html&#x27;;
}

/**
* #### Map Component.
*
* Uses Leaflet.js to render a widget and the Leaflet.draw plugin to be able to select regions
*
* #### Usage
* &#x60;&#x60;&#x60;
*  {
*   class: &#x27;MapField&#x27;,
*   compClass: &#x27;MapComponent&#x27;,
*   definition: {
*     name: &#x27;geocoords&#x27;,
*     label: &#x27;@dataRecord-coverage&#x27;,
*     help: &#x27;@dataRecord-coverage&#x27;,
*     tabId: &#x27;coverage&#x27;,
*     leafletOptions: {
*                      zoom: 3,
*                      center: latLng([108.94248962402342, 34.26516142452615)
*                     }
*     }
*   }
* &#x60;&#x60;&#x60;
*
*| Property Name  | Description                                                                                                                                                                                                                                                                                                                       | Required | Default                                                                                                                                                                                                                                                                                  |
*|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
*| label          | The label to show above the component                                                                                                                                                                                                                                                                                             | No       *|                                                                                                                                                                                                                                                                                          |
*| help           | Help text                                                                                                                                                                                                                                                                                                                         | No       *|                                                                                                                                                                                                                                                                                          |
*| tabId          | The name of the tab the widget is placed, this is needed as Leaflet needs the map to be visible before the tiles can be loaded correctly. Leave empty if widget isn&#x27;t placed in a tab.                                                                                                                                            | No       *|                                                                                                                                                                                                                                                                                          |
*| leafletOptions | The leaflet options object. See the [Leaflet&#x27;s documentation](http://leafletjs.com/reference-1.3.0.html#map-option) for more information. Note: layers cannot be changed as other functionality depends on it being set as it is and will be overridden. Defaults to a map centred on Australia (if no elements are drawn on map) | No       | &#x60;&#x60;&#x60;{zoom: 4, center:&quot; latLng([-24.673148, 134.074574]) }&#x60;&#x60;&#x60;                                                                                                                                                                                                                              |
*| drawOptions    | The leaflet draw options object. See the [Leaflet Draw&#x27;s documentation](https://leaflet.github.io/Leaflet.draw/docs/leaflet-draw-latest.html#options) for more information. Note: the edit featureGroup cannot be changed as other functionality depends on it being set as it is and will be overridden.                         | No       | &#x60;&#x60;&#x60;{position:&quot;topright&quot;,draw:{marker:{icon:icon({iconSize:[25,41],iconAnchor:[13,41],iconUrl:&quot;http://localhost:1500/default/rdmp/images/leaflet/marker-icon.png&quot;,shadowUrl:&quot;http://localhost:1500/default/rdmp/images/leaflet/marker-shadow.png&quot;})},circlemarker:false,circle:false}}&#x60;&#x60;&#x60; |
*/
@Component({
  selector: &#x27;rb-mapdata&#x27;,
  templateUrl: &#x27;./field-map.html&#x27;
})
export class MapComponent extends SimpleComponent {
  field: MapField;

  coordinatesHelpShow: boolean;

  ngAfterViewInit() {
    if (!this.field.editMode) {
      this.field.initMap(this.field.map, this.field);
    }
  }

  public toggleCoordinatesHelp() {
    this.coordinatesHelpShow &#x3D; !this.coordinatesHelpShow;
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;ng-container *ngIf&#x3D;&quot;field.visible&quot;&gt;
&lt;div class&#x3D;&#x27;padding-bottom-10&#x27;&gt;
  &lt;div *ngIf&#x3D;&quot;field.editMode&quot; [formGroup]&#x3D;&#x27;form&#x27; class&#x3D;&quot;form-group&quot;&gt;
  &lt;label [attr.for]&#x3D;&quot;field.name&quot;&gt;
    {{field.label}} {{ getRequiredLabelStr()}}
    &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-default&quot; *ngIf&#x3D;&quot;field.help&quot; (click)&#x3D;&quot;toggleHelp()&quot; [attr.aria-label]&#x3D;&quot;&#x27;help&#x27; | translate &quot;&gt;&lt;span class&#x3D;&quot;glyphicon glyphicon-question-sign&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/span&gt;&lt;/button&gt;
   &lt;/label&gt;&lt;br/&gt;
  &lt;span id&#x3D;&quot;{{ &#x27;helpBlock_&#x27; + field.name }}&quot; class&#x3D;&quot;help-block&quot; *ngIf&#x3D;&quot;this.helpShow&quot; [innerHtml]&#x3D;&quot;field.help&quot;&gt;&lt;/span&gt;

  &lt;div leaflet style&#x3D;&quot;height: 450px;&quot;
       leafletDraw
       [leafletOptions]&#x3D;&quot;field.leafletOptions&quot;
       [leafletDrawOptions]&#x3D;&quot;field.drawOptions&quot;
       (leafletMapReady)&#x3D;&quot;field.onMapReady($event)&quot;
       [leafletLayersControl]&#x3D;&quot;field.layersControl&quot;&gt;
  &lt;/div&gt;
  &lt;div class&#x3D;&#x27;padding-top-10&#x27;&gt;
  &lt;div&gt;
    &lt;label [attr.for]&#x3D;&quot;field.name&quot;&gt;{{field.kmlGeoJsonLabel}}
      &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-default&quot; *ngIf&#x3D;&quot;field.editMode &amp;&amp; field.coordinatesHelp&quot; (click)&#x3D;&quot;toggleCoordinatesHelp()&quot; [attr.aria-label]&#x3D;&quot;&#x27;help&#x27; | translate &quot;&gt;&lt;span class&#x3D;&quot;glyphicon glyphicon-question-sign&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/span&gt;&lt;/button&gt;
    &lt;/label&gt;&lt;br/&gt;
    &lt;span id&#x3D;&quot;{{ &#x27;helpBlock_&#x27; + field.name + &#x27;_coordinates&#x27; }}&quot; class&#x3D;&quot;help-block&quot; *ngIf&#x3D;&quot;field.editMode &amp;&amp; this.coordinatesHelpShow&quot; [innerHtml]&#x3D;&quot;field.coordinatesHelp&quot;&gt;&lt;/span&gt;
    &lt;textarea [id]&#x3D;&quot;field.name&quot; class&#x3D;&quot;form-control&quot; rows&#x3D;&quot;5&quot; [(ngModel)]&#x3D;&quot;field.importDataString&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;
  &lt;div class&#x3D;&quot;padding-top-10&quot;&gt;&lt;a class&#x3D;&quot;btn btn-info&quot; (click)&#x3D;&quot;field.importData()&quot;&gt;{{field.importButtonLabel}}&lt;/a&gt; &lt;span *ngIf&#x3D;&quot;field.importFailed&quot; class&#x3D;&quot;text-danger&quot;&gt;{{field.invalidDataMessage}}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div *ngIf&#x3D;&quot;!field.editMode&quot;&gt;
  &lt;div leaflet style&#x3D;&quot;height: 450px;&quot;
       [leafletOptions]&#x3D;&quot;field.leafletOptions&quot;
       (leafletMapReady)&#x3D;&quot;field.onMapReady($event)&quot;
       [leafletLayersControl]&#x3D;&quot;field.layersControl&quot;&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/ng-container&gt;</code></pre>
    </div>


    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><ng-container *ngIf="field.visible"><div class=\'padding-bottom-10\'>  <div *ngIf="field.editMode" [formGroup]=\'form\' class="form-group">  <label [attr.for]="field.name">    {{field.label}} {{ getRequiredLabelStr()}}    <button type="button" class="btn btn-default" *ngIf="field.help" (click)="toggleHelp()" [attr.aria-label]="\'help\' | translate "><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></button>   </label><br/>  <span id="{{ \'helpBlock_\' + field.name }}" class="help-block" *ngIf="this.helpShow" [innerHtml]="field.help"></span>  <div leaflet style="height: 450px;"       leafletDraw       [leafletOptions]="field.leafletOptions"       [leafletDrawOptions]="field.drawOptions"       (leafletMapReady)="field.onMapReady($event)"       [leafletLayersControl]="field.layersControl">  </div>  <div class=\'padding-top-10\'>  <div>    <label [attr.for]="field.name">{{field.kmlGeoJsonLabel}}      <button type="button" class="btn btn-default" *ngIf="field.editMode && field.coordinatesHelp" (click)="toggleCoordinatesHelp()" [attr.aria-label]="\'help\' | translate "><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></button>    </label><br/>    <span id="{{ \'helpBlock_\' + field.name + \'_coordinates\' }}" class="help-block" *ngIf="field.editMode && this.coordinatesHelpShow" [innerHtml]="field.coordinatesHelp"></span>    <textarea [id]="field.name" class="form-control" rows="5" [(ngModel)]="field.importDataString" [ngModelOptions]="{standalone: true}"></textarea></div>  <div class="padding-top-10"><a class="btn btn-info" (click)="field.importData()">{{field.importButtonLabel}}</a> <span *ngIf="field.importFailed" class="text-danger">{{field.invalidDataMessage}}</span></div></div></div></div><div *ngIf="!field.editMode">  <div leaflet style="height: 450px;"       [leafletOptions]="field.leafletOptions"       (leafletMapReady)="field.onMapReady($event)"       [leafletLayersControl]="field.layersControl">  </div></div></ng-container></div>'
    var COMPONENTS = [{'name': 'ActionButtonComponent', 'selector': 'action-button'},{'name': 'AnchorOrButtonComponent', 'selector': 'anchor-button'},{'name': 'ANDSVocabComponent', 'selector': 'ands-vocab-selector'},{'name': 'AsynchComponent', 'selector': 'asynch-component'},{'name': 'ButtonBarContainerComponent', 'selector': 'buttonbarcontainer'},{'name': 'CancelButtonComponent', 'selector': 'cancel-button'},{'name': 'ContributorComponent', 'selector': 'rb-contributor'},{'name': 'DashboardComponent', 'selector': 'dashboard'},{'name': 'DataLocationComponent', 'selector': 'data-location-selector'},{'name': 'DateTimeComponent', 'selector': 'date-time'},{'name': 'DmpFieldComponent', 'selector': 'dmp-field'},{'name': 'DmpFormComponent', 'selector': 'dmp-form'},{'name': 'DropdownFieldComponent', 'selector': 'dropdownfield'},{'name': 'EventHandlerComponent', 'selector': 'event-handler'},{'name': 'ExportFormComponent', 'selector': 'export-form'},{'name': 'GenericGroupComponent', 'selector': 'generic-group-field'},{'name': 'HiddenValueComponent', 'selector': 'hidden-field'},{'name': 'HtmlRawComponent', 'selector': 'htmlraw'},{'name': 'LinkValueComponent', 'selector': 'link-value'},{'name': 'LocalAuthComponent', 'selector': 'local-auth'},{'name': 'ManageRolesComponent', 'selector': 'manage-roles'},{'name': 'ManageUsersComponent', 'selector': 'manage-users'},{'name': 'MapComponent', 'selector': 'rb-mapdata'},{'name': 'MarkdownTextAreaComponent', 'selector': 'markdown-text-area'},{'name': 'PageTitleComponent', 'selector': 'page-title'},{'name': 'ParameterRetrieverComponent', 'selector': 'parameter-retriever'},{'name': 'PDFListComponent', 'selector': 'rb-pdf-list'},{'name': 'PublishDataLocationRefreshComponent', 'selector': 'publish-data-location-refresh'},{'name': 'PublishDataLocationSelectorComponent', 'selector': 'publish-data-location-selector'},{'name': 'RecordMetadataRetrieverComponent', 'selector': 'record-metadata-retriever'},{'name': 'RecordPermissionsComponent', 'selector': 'rb-recordpermissions'},{'name': 'RecordSearchComponent', 'selector': 'record-search'},{'name': 'RecordSearchRefinerComponent', 'selector': 'record-search-refiner'},{'name': 'RelatedFileUploadComponent', 'selector': 'related-fileupload-selector'},{'name': 'RelatedObjectDataComponent', 'selector': 'rb-relatedobjectdata'},{'name': 'RelatedObjectSelectorComponent', 'selector': 'rb-RelatedObjectSelector'},{'name': 'RepeatableContributorComponent', 'selector': 'repeatable-contributor'},{'name': 'RepeatableGroupComponent', 'selector': 'repeatable-group'},{'name': 'RepeatableTextfieldComponent', 'selector': 'repeatable-textfield'},{'name': 'RepeatableVocabComponent', 'selector': 'repeatable-vocab'},{'name': 'ReportComponent', 'selector': 'report'},{'name': 'SaveButtonComponent', 'selector': 'save-button'},{'name': 'SelectionFieldComponent', 'selector': 'selectionfield'},{'name': 'SortComponent', 'selector': 'sort'},{'name': 'SpacerComponent', 'selector': 'spacer'},{'name': 'TabNavButtonComponent', 'selector': 'tab-nav-button'},{'name': 'TabOrAccordionContainerComponent', 'selector': 'tabcontainer'},{'name': 'TextAreaComponent', 'selector': 'text-area'},{'name': 'TextBlockComponent', 'selector': 'text-block'},{'name': 'TextFieldComponent', 'selector': 'textfield'},{'name': 'ToggleComponent', 'selector': 'toggle'},{'name': 'TransferOwnerComponent', 'selector': 'transfer-owner'},{'name': 'TreeNodeCheckboxComponent', 'selector': 'rb-tree-node-checkbox'},{'name': 'UserProfileComponent', 'selector': 'user-profile'},{'name': 'VocabFieldComponent', 'selector': 'rb-vocab'},{'name': 'WorkflowStepButtonComponent', 'selector': 'workflowstep-button'},{'name': 'WorkspaceFieldComponent', 'selector': 'ws-field'},{'name': 'WorkspaceListComponent', 'selector': 'workspace-list'},{'name': 'WorkspaceSelectorComponent', 'selector': 'workspace-selector-parent'},{'name': 'WorkspaceSelectorFieldComponent', 'selector': 'workspace-selector'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'MapComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'MapComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
